{% extends "_layout.html" %}

{% block title %}{% endblock title %}

{% block content %}
<div class="right_col" role="main">
  <div class="">
    <div class="page-title">
      <div class="title_left">
        &nbsp;
      </div>
    </div>
    <div class="clearfix"></div>

    <div class="row">
      <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
          <div class="x_title">
            <h2>{{ form_name }}</h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a><i class="fa fa-star" style="color: white;"></i></a></li>
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
              <li><a class="close-link"><i class="fa fa-close"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <div>
              &nbsp;
            </div>
            <form class="form-horizontal form-label-left" method="post" novalidate>
              {% csrf_token %}
              {% for field in form %}
              <div class="item form-group">
                <label class="control-label col-md-3 col-sm-3 col-xs-12">{{ field.label }}
                </label>
                <div class="col-md-6 col-sm-6 col-xs-12">
                  {{ field }}
                  {% if field.errors.0 %}
                  <span style="color:red; font-size: 12px;">&nbsp;&nbsp;&nbsp;&nbsp;{{ field.errors.0 }}</span>
                  {% else %}
                    &nbsp;
                  {% endif %}
                </div>
              </div>
              {% endfor %}
              <hr style="border: 1px solid lightgray;">
              <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                  <button class="btn btn-round btn-warning" type="button"
                    onclick="redirectTo()">返回</button>
                  <button class="btn btn-round btn-primary" type="button" onclick="resetForm()">重置</button>
                  <button id="send" type="submit" class="btn btn-round btn-success">提交</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}

{% block javascripts %}
{{ block.super }}
<!-- validator -->
<!-- <script src="/static/vendors/validator/validator.js"></script> -->
<script>
  function resetForm() {
    window.location.href = window.location.href;
  }
</script>
<script>
  function redirectTo() {
    var current_module =  window.location.href.split('/')[3];
    var sub_module = window.location.href.split('/')[5];
    if (sub_module === "salesman") {
      window.location.href = '/' + current_module + '/0/salesman'; 
    }
    else {
      window.location.href = '/' + current_module + '/' + 'list';
    }
  }
</script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var firstSelect = document.getElementById('id_province');
    var secondSelect = document.getElementById('id_city');
    var initialChoices = {"---":[["----", "---"]], "北京市": [["东城区", "东城区"], ["西城区", "西城区"], ["朝阳区", "朝阳区"], ["丰台区", "丰台区"], ["石景山区", "石景山区"], ["海淀区", "海淀区"], ["门头沟区", "门头沟区"], ["房山区", "房山区"], ["通州区", "通州区"], ["顺义区", "顺义区"], ["昌平区", "昌平区"], ["大兴区", "大兴区"], ["怀柔区", "怀柔区"], ["平谷区", "平谷区"], ["密云区", "密云区"], ["延庆区", "延庆区"]], "天津市": [["和平区", "和平区"], ["河东区", "河东区"], ["河西区", "河西区"], ["南开区", "南开区"], ["河北区", "河北区"], ["红桥区", "红桥区"], ["东丽区", "东丽区"], ["西青区", "西青区"], ["津南区", "津南区"], ["北辰区", "北辰区"], ["武清区", "武清区"], ["宝坻区", "宝坻区"], ["滨海新区", "滨海新区"], ["宁河区", "宁河区"], ["静海区", "静海区"], ["蓟州区", "蓟州区"]], "河北省": [["石家庄市", "石家庄市"], ["唐山市", "唐山市"], ["秦皇岛市", "秦皇岛市"], ["邯郸市", "邯郸市"], ["邢台市", "邢台市"], ["保定市", "保定市"], ["张家口市", "张家口市"], ["承德市", "承德市"], ["沧州市", "沧州市"], ["廊坊市", "廊坊市"], ["衡水市", "衡水市"]], "山西省": [["太原市", "太原市"], ["大同市", "大同市"], ["阳泉市", "阳泉市"], ["长治市", "长治市"], ["晋城市", "晋城市"], ["朔州市", "朔州市"], ["晋中市", "晋中市"], ["运城市", "运城市"], ["忻州市", "忻州市"], ["临汾市", "临汾市"], ["吕梁市", "吕梁市"]], "内蒙古自治区": [["呼和浩特市", "呼和浩特市"], ["包头市", "包头市"], ["乌海市", "乌海市"], ["赤峰市", "赤峰市"], ["通辽市", "通辽市"], ["鄂尔多斯市", "鄂尔多斯市"], ["呼伦贝尔市", "呼伦贝尔市"], ["巴彦淖尔市", "巴彦淖尔市"], ["乌兰察布市", "乌兰察布市"], ["兴安盟", "兴安盟"], ["锡林郭勒盟", "锡林郭勒盟"], ["阿拉善盟", "阿拉善盟"]], "辽宁省": [["沈阳市", "沈阳市"], ["大连市", "大连市"], ["鞍山市", "鞍山市"], ["抚顺市", "抚顺市"], ["本溪市", "本溪市"], ["丹东市", "丹东市"], ["锦州市", "锦州市"], ["营口市", "营口市"], ["阜新市", "阜新市"], ["辽阳市", "辽阳市"], ["盘锦市", "盘锦市"], ["铁岭市", "铁岭市"], ["朝阳市", "朝阳市"], ["葫芦岛市", "葫芦岛市"]], "吉林省": [["长春市", "长春市"], ["吉林市", "吉林市"], ["四平市", "四平市"], ["辽源市", "辽源市"], ["通化市", "通化市"], ["白山市", "白山市"], ["松原市", "松原市"], ["白城市", "白城市"], ["延边朝鲜族自治州", "延边朝鲜族自治州"]], "黑龙江省": [["哈尔滨市", "哈尔滨市"], ["齐齐哈尔市", "齐齐哈尔市"], ["鸡西市", "鸡西市"], ["鹤岗市", "鹤岗市"], ["双鸭山市", "双鸭山市"], ["大庆市", "大庆市"], ["伊春市", "伊春市"], ["佳木斯市", "佳木斯市"], ["七台河市", "七台河市"], ["牡丹江市", "牡丹江市"], ["黑河市", "黑河市"], ["绥化市", "绥化市"], ["大兴安岭地区", "大兴安岭地区"]], "上海市": [["黄浦区", "黄浦区"], ["徐汇区", "徐汇区"], ["长宁区", "长宁区"], ["静安区", "静安区"], ["普陀区", "普陀区"], ["虹口区", "虹口区"], ["杨浦区", "杨浦区"], ["闵行区", "闵行区"], ["宝山区", "宝山区"], ["嘉定区", "嘉定区"], ["浦东新区", "浦东新区"], ["金山区", "金山区"], ["松江区", "松江区"], ["青浦区", "青浦区"], ["奉贤区", "奉贤区"], ["崇明区", "崇明区"]], "江苏省": [["南京市", "南京市"], ["无锡市", "无锡市"], ["徐州市", "徐州市"], ["常州市", "常州市"], ["苏州市", "苏州市"], ["南通市", "南通市"], ["连云港市", "连云港市"], ["淮安市", "淮安市"], ["盐城市", "盐城市"], ["扬州市", "扬州市"], ["镇江市", "镇江市"], ["泰州市", "泰州市"], ["宿迁市", "宿迁市"]], "浙江省": [["杭州市", "杭州市"], ["宁波市", "宁波市"], ["温州市", "温州市"], ["嘉兴市", "嘉兴市"], ["湖州市", "湖州市"], ["绍兴市", "绍兴市"], ["金华市", "金华市"], ["衢州市", "衢州市"], ["舟山市", "舟山市"], ["台州市", "台州市"], ["丽水市", "丽水市"]], "安徽省": [["合肥市", "合肥市"], ["芜湖市", "芜湖市"], ["蚌埠市", "蚌埠市"], ["淮南市", "淮南市"], ["马鞍山市", "马鞍山市"], ["淮北市", "淮北市"], ["铜陵市", "铜陵市"], ["安庆市", "安庆市"], ["黄山市", "黄山市"], ["滁州市", "滁州市"], ["阜阳市", "阜阳市"], ["宿州市", "宿州市"], ["六安市", "六安市"], ["亳州市", "亳州市"], ["池州市", "池州市"], ["宣城市", "宣城市"]], "福建省": [["福州市", "福州市"], ["厦门市", "厦门市"], ["莆田市", "莆田市"], ["三明市", "三明市"], ["泉州市", "泉州市"], ["漳州市", "漳州市"], ["南平市", "南平市"], ["龙岩市", "龙岩市"], ["宁德市", "宁德市"]], "江西省": [["南昌市", "南昌市"], ["景德镇市", "景德镇市"], ["萍乡市", "萍乡市"], ["九江市", "九江市"], ["新余市", "新余市"], ["鹰潭市", "鹰潭市"], ["赣州市", "赣州市"], ["吉安市", "吉安市"], ["宜春市", "宜春市"], ["抚州市", "抚州市"], ["上饶市", "上饶市"]], "山东省": [["济南市", "济南市"], ["青岛市", "青岛市"], ["淄博市", "淄博市"], ["枣庄市", "枣庄市"], ["东营市", "东营市"], ["烟台市", "烟台市"], ["潍坊市", "潍坊市"], ["济宁市", "济宁市"], ["泰安市", "泰安市"], ["威海市", "威海市"], ["日照市", "日照市"], ["临沂市", "临沂市"], ["德州市", "德州市"], ["聊城市", "聊城市"], ["滨州市", "滨州市"], ["菏泽市", "菏泽市"]], "河南省": [["郑州市", "郑州市"], ["开封市", "开封市"], ["洛阳市", "洛阳市"], ["平顶山市", "平顶山市"], ["安阳市", "安阳市"], ["鹤壁市", "鹤壁市"], ["新乡市", "新乡市"], ["焦作市", "焦作市"], ["濮阳市", "濮阳市"], ["许昌市", "许昌市"], ["漯河市", "漯河市"], ["三门峡市", "三门峡市"], ["南阳市", "南阳市"], ["商丘市", "商丘市"], ["信阳市", "信阳市"], ["周口市", "周口市"], ["驻马店市", "驻马店市"]], "湖北省": [["武汉市", "武汉市"], ["黄石市", "黄石市"], ["十堰市", "十堰市"], ["宜昌市", "宜昌市"], ["襄阳市", "襄阳市"], ["鄂州市", "鄂州市"], ["荆门市", "荆门市"], ["孝感市", "孝感市"], ["荆州市", "荆州市"], ["黄冈市", "黄冈市"], ["咸宁市", "咸宁市"], ["随州市", "随州市"], ["恩施土家族苗族自治州", "恩施土家族苗族自治州"]], "湖南省": [["长沙市", "长沙市"], ["株洲市", "株洲市"], ["湘潭市", "湘潭市"], ["衡阳市", "衡阳市"], ["邵阳市", "邵阳市"], ["岳阳市", "岳阳市"], ["常德市", "常德市"], ["张家界市", "张家界市"], ["益阳市", "益阳市"], ["郴州市", "郴州市"], ["永州市", "永州市"], ["怀化市", "怀化市"], ["娄底市", "娄底市"], ["湘西土家族苗族自治州", "湘西土家族苗族自治州"]], "广东省": [["广州市", "广州市"], ["韶关市", "韶关市"], ["深圳市", "深圳市"], ["珠海市", "珠海市"], ["汕头市", "汕头市"], ["佛山市", "佛山市"], ["江门市", "江门市"], ["湛江市", "湛江市"], ["茂名市", "茂名市"], ["肇庆市", "肇庆市"], ["惠州市", "惠州市"], ["梅州市", "梅州市"], ["汕尾市", "汕尾市"], ["河源市", "河源市"], ["阳江市", "阳江市"], ["清远市", "清远市"], ["东莞市", "东莞市"], ["中山市", "中山市"], ["潮州市", "潮州市"], ["揭阳市", "揭阳市"], ["云浮市", "云浮市"]], "广西壮族自治区": [["南宁市", "南宁市"], ["柳州市", "柳州市"], ["桂林市", "桂林市"], ["梧州市", "梧州市"], ["北海市", "北海市"], ["防城港市", "防城港市"], ["钦州市", "钦州市"], ["贵港市", "贵港市"], ["玉林市", "玉林市"], ["百色市", "百色市"], ["贺州市", "贺州市"], ["河池市", "河池市"], ["来宾市", "来宾市"], ["崇左市", "崇左市"]], "海南省": [["海口市", "海口市"], ["三亚市", "三亚市"], ["三沙市", "三沙市"], ["儋州市", "儋州市"]], "重庆市": [["万州区", "万州区"], ["涪陵区", "涪陵区"], ["渝中区", "渝中区"], ["大渡口区", "大渡口区"], ["江北区", "江北区"], ["沙坪坝区", "沙坪坝区"], ["九龙坡区", "九龙坡区"], ["南岸区", "南岸区"], ["北碚区", "北碚区"], ["綦江区", "綦江区"], ["大足区", "大足区"], ["渝北区", "渝北区"], ["巴南区", "巴南区"], ["黔江区", "黔江区"], ["长寿区", "长寿区"], ["江津区", "江津区"], ["合川区", "合川区"], ["永川区", "永川区"], ["南川区", "南川区"], ["璧山区", "璧山区"], ["铜梁区", "铜梁区"], ["潼南区", "潼南区"], ["荣昌区", "荣昌区"], ["开州区", "开州区"], ["梁平区", "梁平区"], ["武隆区", "武隆区"], ["城口县", "城口县"], ["丰都县", "丰都县"], ["垫江县", "垫江县"], ["忠县", "忠县"], ["云阳县", "云阳县"], ["奉节县", "奉节县"], ["巫山县", "巫山县"], ["巫溪县", "巫溪县"], ["石柱土家族自治县", "石柱土家族自治县"], ["秀山土家族苗族自治县", "秀山土家族苗族自治县"], ["酉阳土家族苗族自治县", "酉阳土家族苗族自治县"], ["彭水苗族土家族自治县", "彭水苗族土家族自治县"]], "四川省": [["成都市", "成都市"], ["自贡市", "自贡市"], ["攀枝花市", "攀枝花市"], ["泸州市", "泸州市"], ["德阳市", "德阳市"], ["绵阳市", "绵阳市"], ["广元市", "广元市"], ["遂宁市", "遂宁市"], ["内江市", "内江市"], ["乐山市", "乐山市"], ["南充市", "南充市"], ["眉山市", "眉山市"], ["宜宾市", "宜宾市"], ["广安市", "广安市"], ["达州市", "达州市"], ["雅安市", "雅安市"], ["巴中市", "巴中市"], ["资阳市", "资阳市"], ["阿坝藏族羌族自治州", "阿坝藏族羌族自治州"], ["甘孜藏族自治州", "甘孜藏族自治州"], ["凉山彝族自治州", "凉山彝族自治州"]], "贵州省": [["贵阳市", "贵阳市"], ["六盘水市", "六盘水市"], ["遵义市", "遵义市"], ["安顺市", "安顺市"], ["毕节市", "毕节市"], ["铜仁市", "铜仁市"], ["黔西南布依族苗族自治州", "黔西南布依族苗族自治州"], ["黔东南苗族侗族自治州", "黔东南苗族侗族自治州"], ["黔南布依族苗族自治州", "黔南布依族苗族自治州"]], "云南省": [["昆明市", "昆明市"], ["曲靖市", "曲靖市"], ["玉溪市", "玉溪市"], ["保山市", "保山市"], ["昭通市", "昭通市"], ["丽江市", "丽江市"], ["普洱市", "普洱市"], ["临沧市", "临沧市"], ["楚雄彝族自治州", "楚雄彝族自治州"], ["红河哈尼族彝族自治州", "红河哈尼族彝族自治州"], ["文山壮族苗族自治州", "文山壮族苗族自治州"], ["西双版纳傣族自治州", "西双版纳傣族自治州"], ["大理白族自治州", "大理白族自治州"], ["德宏傣族景颇族自治州", "德宏傣族景颇族自治州"], ["怒江傈僳族自治州", "怒江傈僳族自治州"], ["迪庆藏族自治州", "迪庆藏族自治州"]], "西藏自治区": [["拉萨市", "拉萨市"], ["日喀则市", "日喀则市"], ["昌都市", "昌都市"], ["林芝市", "林芝市"], ["山南市", "山南市"], ["那曲市", "那曲市"], ["阿里地区", "阿里地区"]], "陕西省": [["西安市", "西安市"], ["铜川市", "铜川市"], ["宝鸡市", "宝鸡市"], ["咸阳市", "咸阳市"], ["渭南市", "渭南市"], ["延安市", "延安市"], ["汉中市", "汉中市"], ["榆林市", "榆林市"], ["安康市", "安康市"], ["商洛市", "商洛市"]], "甘肃省": [["兰州市", "兰州市"], ["嘉峪关市", "嘉峪关市"], ["金昌市", "金昌市"], ["白银市", "白银市"], ["天水市", "天水市"], ["武威市", "武威市"], ["张掖市", "张掖市"], ["平凉市", "平凉市"], ["酒泉市", "酒泉市"], ["庆阳市", "庆阳市"], ["定西市", "定西市"], ["陇南市", "陇南市"], ["临夏回族自治州", "临夏回族自治州"], ["甘南藏族自治州", "甘南藏族自治州"]], "青海省": [["西宁市", "西宁市"], ["海东市", "海东市"], ["海北藏族自治州", "海北藏族自治州"], ["黄南藏族自治州", "黄南藏族自治州"], ["海南藏族自治州", "海南藏族自治州"], ["果洛藏族自治州", "果洛藏族自治州"], ["玉树藏族自治州", "玉树藏族自治州"], ["海西蒙古族藏族自治州", "海西蒙古族藏族自治州"]], "宁夏回族自治区": [["银川市", "银川市"], ["石嘴山市", "石嘴山市"], ["吴忠市", "吴忠市"], ["固原市", "固原市"], ["中卫市", "中卫市"]], "新疆维吾尔自治区": [["乌鲁木齐市", "乌鲁木齐市"], ["克拉玛依市", "克拉玛依市"], ["吐鲁番市", "吐鲁番市"], ["哈密市", "哈密市"], ["昌吉回族自治州", "昌吉回族自治州"], ["博尔塔拉蒙古自治州", "博尔塔拉蒙古自治州"], ["巴音郭楞蒙古自治州", "巴音郭楞蒙古自治州"], ["阿克苏地区", "阿克苏地区"], ["克孜勒苏柯尔克孜自治州", "克孜勒苏柯尔克孜自治州"], ["喀什地区", "喀什地区"], ["和田地区", "和田地区"], ["伊犁哈萨克自治州", "伊犁哈萨克自治州"], ["塔城地区", "塔城地区"], ["阿勒泰地区", "阿勒泰地区"]], "台湾省": [["台北市", "台北市"], ["高雄市", "高雄市"], ["台南市", "台南市"], ["台中市", "台中市"], ["南投县", "南投县"], ["基隆市", "基隆市"], ["新竹市", "新竹市"], ["嘉义市", "嘉义市"], ["新北市", "新北市"], ["宜兰县", "宜兰县"], ["新竹县", "新竹县"], ["桃园市", "桃园市"], ["苗栗县", "苗栗县"], ["彰化县", "彰化县"], ["嘉义县", "嘉义县"], ["云林县", "云林县"], ["屏东县", "屏东县"], ["台东县", "台东县"], ["花莲县", "花莲县"], ["澎湖县", "澎湖县"]]};

    function updateSecondChoices() {
      var selectedValue = firstSelect.value;
      var choices = initialChoices[selectedValue] || [];
      secondSelect.innerHTML = "";  
      for (var i = 0; i < choices.length; i++) {
        console.log(choices[i][0], choices[i][1])
        var option = new Option(choices[i][1], choices[i][0]);
        secondSelect.add(option);
      }
      console.log(secondSelect);
    }

    updateSecondChoices();

    firstSelect.addEventListener('change', updateSecondChoices);
  });
</script>
{% endblock javascripts %}